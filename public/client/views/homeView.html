<div ng-controller="HomeController" id="homeController" layout="column" layout-align="start center">
    <div class="menu-demo-container" layout-align="center center" layout="column">
        <h2 class="md-display-3">Transport data visualization</h2>
        <p class="md-subhead subheader">Road transport is the largest contributor to global warming,
            through emission of carbon dioxide and air pollution.
            Here you can compare how the transport impacts <br> on the air pollution and the amount of carbon dioxide emitted.</p>
        <md-button><a href="#!visualization">Show Statistics</a></md-button>
        <md-button class="md-icon-button icon" ng-click="scrollToDiv()">
            <md-icon class="icon" md-font-set="md">keyboard_arrow_down</md-icon>
        </md-button>
    </div>
    <md-tabs md-dynamic-height md-border-bottom md-stretch-tabs="always" id="showData">
        <md-tab label="AIR NOW">

            <md-content class="md-padding">
                <div id="showMap" layout="column" layout-align="start center">
                    <div layout="row" layout-align="center start">
                        <div layout="column">
                            <div id="mapa" style="width:700px; height:500px">
                                <ng-map zoom="13" center="[41.99646, 21.43141]">
                                    <traffic-layer>
                                        <marker ng-repeat="pos in positions" position="{{pos.lat}},{{pos.lng}}"></marker>
                                    </traffic-layer>
                                </ng-map>
                            </div>
                            <canvas hidden id="mapCanvas">
                            </canvas>
                        </div>

                        <div layout="column" flex="30" flex-offset="5" layout-align="start center">
                            <p>The Google Traffic layer modify the base map layer to display current traffic conditions. These layers are available in select regions.</p>
                            <p>Traffic Layer adds real-time traffic information (where supported) to the map. Traffic information is refreshed frequently, but not instantly.
                                Rapid consecutive requests for the same area are unlikely to yield different results.</p>
                            <md-button ng-show="!showProgress" ng-click="getData()">GET DATA</md-button>
                            <md-progress-circular ng-show="showProgress" md-mode="indeterminate"></md-progress-circular>
                        </div>
                    </div>
                </div>

                <div layout="row" layout-wrap>
                    <div flex="10"></div>
                    <div flex="40">
                        <canvas id="doughnut" class="chart chart-doughnut"
                                chart-data="data" chart-labels="labels" chart-colors="colors">
                        </canvas>
                    </div>
                    <div flex="40">
                        <canvas id="bar" class="chart chart-bar"
                                chart-data="dataSensor" chart-labels="labelsSensor">
                        </canvas>
                    </div>
                    <div flex="10"></div>
                </div>
            </md-content>
        </md-tab>
        <md-tab label="COMPARE CITIES">
            <md-content class="md-padding" layout-align="center start">
                <div layout="row">
                    <md-autocomplete flex required
                                     md-input-name="autocompleteField"
                                     md-input-minlength="3"
                                     md-input-maxlength="18"
                                     md-no-cache="false"
                                     md-selected-item="city1"
                                     md-search-text="searchText1"
                                     md-items="item in querySearch(searchText1)"
                                     md-item-text="item.name + ',' + item.country"
                                     md-require-match
                                     md-floating-label="City 1">
                        <md-item-template>
                            <span md-highlight-text="searchText">{{item.name + ',' + item.country}}</span>
                        </md-item-template>
                        <div ng-messages="searchForm.autocompleteField.$error" ng-if="searchForm.autocompleteField.$touched">
                            <div ng-message="md-require-match">Please select an existing state.</div>
                            <div ng-message="minlength">Your entry is not long enough.</div>
                        </div>
                    </md-autocomplete>
                    <md-autocomplete flex required
                                     md-input-name="autocompleteField"
                                     md-input-minlength="3"
                                     md-input-maxlength="18"
                                     md-no-cache="false"
                                     md-selected-item="city2"
                                     md-search-text="searchText2"
                                     md-items="item in querySearch(searchText2)"
                                     md-item-text="item.name + ',' + item.country"
                                     md-require-match
                                     md-floating-label="City 2">
                        <md-item-template>
                            <span md-highlight-text="searchText">{{item.name + ',' + item.country}}</span>
                        </md-item-template>
                        <div ng-messages="searchForm.autocompleteField.$error" ng-if="searchForm.autocompleteField.$touched">
                            <div ng-message="md-require-match">Please select an existing state.</div>
                            <div ng-message="minlength">Your entry is not long enough.</div>
                        </div>
                    </md-autocomplete>
                </div>
                <div layout="row" layout-align="center center">
                    <div layout="column">
                        <div id="map1" style="width:700px; height:500px"></div>
                        <div layout-align="center center" layout="row" ng-show="showGraphs">
                            <div layout="column" layout-align="center center" class="progress-wrapper">
                                <round-progress
                                        max="500"
                                        current="aqi1"
                                        color="{{aqi1Color}}"
                                        bgcolor="#eaeaea"
                                        radius="150"
                                        stroke="20"
                                        semi="false"
                                        rounded="false"
                                        clockwise="true"
                                        responsive="false"
                                        duration="800"
                                        animation="linearEase"
                                        animation-delay="0"></round-progress>
                                <div class="text"><span class="size">{{aqi1}}</span></div>
                                <div class="md-headline">AQI</div>
                            </div>
                            <div layout="column" layout-align="center center" class="progress-wrapper">
                                <round-progress
                                        max="180"
                                        current="co2_1"
                                        color="#99cc00"
                                        bgcolor="#eaeaea"
                                        radius="150"
                                        stroke="20"
                                        semi="false"
                                        rounded="false"
                                        clockwise="true"
                                        responsive="false"
                                        duration="800"
                                        animation="linearEase"
                                        animation-delay="0"></round-progress>
                                <div class="text"><span class="size">{{co2_1}}</span><br> g/m<sup>3</sup></div>
                                <div class="md-headline">CO2</div>
                            </div>
                        </div>
                    </div>
                    <div layout="column" layout-align="center center">
                        <md-progress-circular md-mode="indeterminate" ng-show="showProgress"></md-progress-circular>
                        <md-button class="md-raised md-primary" ng-show="!showProgress" ng-click="compareCities()">Compare</md-button>
                    </div>
                    <div layout="column">
                        <div id="map2" style="width:700px; height:500px"></div>
                        <div layout-align="center center" layout="row" ng-show="showGraphs">
                            <div layout="column" layout-align="center center" class="progress-wrapper">
                                <round-progress
                                        max="500"
                                        current="aqi2"
                                        color="{{aqi2Color}}"
                                        bgcolor="#eaeaea"
                                        radius="150"
                                        stroke="20"
                                        semi="false"
                                        rounded="false"
                                        clockwise="true"
                                        responsive="false"
                                        duration="800"
                                        animation="linearEase"
                                        animation-delay="0"></round-progress>

                                <div class="text"><span class="size">{{aqi2}}</span></div>
                                <div class="md-headline">AQI</div>
                            </div>
                            <div layout="column" layout-align="center center" class="progress-wrapper">
                                <round-progress
                                        max="180"
                                        current="co2_2"
                                        color="#99cc00"
                                        bgcolor="#eaeaea"
                                        radius="150"
                                        stroke="20"
                                        semi="false"
                                        rounded="false"
                                        clockwise="true"
                                        responsive="false"
                                        duration="800"
                                        animation="linearEase"
                                        animation-delay="0"></round-progress>
                                <div class="text"><span class="size">{{co2_2}}</span><br>g/m<sup>3</sup></div>
                                <div class="md-headline">CO2</div>
                            </div>
                        </div>
                    </div>
                </div>
            </md-content>
        </md-tab>
    </md-tabs>


</div>

